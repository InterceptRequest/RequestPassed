<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.bjpowernode.crm.mapper.CommonsMapper">

    <select id="getAll" resultType="map">
        select * from ${tableName}
    </select>


    <select id="getId" resultType="map">
        select * from ${tableName} where id = #{id}
    </select>

    <delete id="delete">
        delete from ${tableName} where id in  (
         <foreach collection="ids" separator="," item="id">
             #{id}
         </foreach>
        )
    </delete>

    <update id="update">
        update ${tableName} set
            <foreach collection="map" item="value" index="key" separator=",">
                ${key} = #{value}
            </foreach>
        where id = #{map.id}
    </update>

    <insert id="insert" >
        insert into ${tableName} (
            <foreach collection="map" index="key" separator=",">

                ${key}

            </foreach>
        ) values (
            <foreach collection="map" item="value" separator=",">

                #{value}

            </foreach>
        )
    </insert>




















    <!--<select id="getAll" resultType="map">
        select * from ${tableName}
    </select>


    <select id="getId" resultType="map">
        select * from ${tableName} where id=#{id}
    </select>

    <insert id="insert">
        insert into ${tableName}(
        <foreach collection="map" index="column" separator=",">
            ${column}
        </foreach>
        ) values(
        <foreach collection="map" item="value" separator=",">
            #{value}
        </foreach>
        )
    </insert>


    <update id="update">
        update ${tableName} set
        <foreach collection="map" index="key" item="value" separator=",">
            ${key}=#{value}
        </foreach>
        where
        id = #{map.id}
    </update>

    <delete id="delete">
        delete from ${tableName} where id in
        <foreach collection="ids" separator="," open="(" item="ids" close=")">
            #{ids}
        </foreach>
    </delete>-->
</mapper>